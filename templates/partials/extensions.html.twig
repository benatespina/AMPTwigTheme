{#
    This file is part of the AMP Twig theme.

    (c) Beñat Espiña <benatespina@gmail.com>

    For the full copyright and license information, please view the LICENSE
    file that was distributed with this source code.
#}

{% set supported_extensions = {
    'amp-3q-player': '',
    'amp-a4a': '',
    'amp-access': '',
    'amp-access-laterpay': '',
    'amp-accordion': '',
    'amp-ad': '',
    'amp-ad-exit': '',
    'amp-analytics': '',
    'amp-anim': '',
    'amp-animation': '',
    'amp-apester-media': '',
    'amp-app-banner': '',
    'amp-audio': '',
    'amp-auto-ads': '',
    'amp-bind': '',
    'amp-brid-player': '',
    'amp-brightcove': '',
    'amp-call-tracking': '',
    'amp-carousel': '',
    'amp-compare-slider': '',
    'amp-dailymotion': '',
    'amp-dynamic-css': '',
    'amp-experiment': '',
    'amp-facebook': '',
    'amp-facebook-comments': '',
    'amp-facebook-like': '',
    'amp-fit-text': '',
    'amp-font': '',
    'amp-form': '',
    'amp-fx-flying-carpet': '',
    'amp-fx-parallax': '',
    'amp-gfycat': '',
    'amp-gist': '',
    'amp-google-vrview-image': '',
    'amp-hulu': '',
    'amp-iframe': '',
    'amp-ima-video': '',
    'amp-image-lightbox': '',
    'amp-imgur': '',
    'amp-instagram': '',
    'amp-install-serviceworker': '',
    'amp-izlesene': '',
    'amp-jwplayer': '',
    'amp-kaltura-player': '',
    'amp-lightbox': '',
    'amp-list': '',
    'amp-live-list': '',
    'amp-mustache': '0.2',
    'amp-nexxtv-player': '',
    'amp-o2-player': '',
    'amp-ooyala-player': '',
    'amp-pinterest': '',
    'amp-playbuzz': '',
    'amp-position-observer': '',
    'amp-reach-player': '',
    'amp-reddit': '',
    'amp-selector': '',
    'amp-sidebar': '',
    'amp-social-share': '',
    'amp-soundcloud': '',
    'amp-springboard': '',
    'amp-sticky-ad': '1.0',
    'amp-timeago': '',
    'amp-twitter': '',
    'amp-user-notification': '',
    'amp-video': '',
    'amp-vimeo': '',
    'amp-vine': '',
    'amp-viz-vega': '',
    'amp-vk': '',
    'amp-web-push': '',
    'amp-youtube': ''
} %}

{% for extension in extensions_enabled|default %}
    {% if extension.name in supported_extensions|keys %}
        {% set type = extension.name == 'amp-mustache' ? 'custom-template' : 'custom-element' %}

        {% if extension.version is not defined %}
            {% if supported_extensions[extension.name] is not empty %}
                {% set version = supported_extensions[extension.name] %}
            {% else %}
                {% set version = '0.1' %}
            {% endif %}
        {% else %}
            {% set version = extension.version %}
        {% endif %}

        <script async
                {{ type }}="{{ extension.name }}"
                src="{{ 'https://cdn.ampproject.org/v0/' ~ extension.name ~ '-' ~ version ~ '.js' }}"></script>
    {% endif %}
{% endfor %}
