{#
    This file is part of the AMP Twig theme.

    (c) Beñat Espiña <benatespina@gmail.com>

    For the full copyright and license information, please view the LICENSE
    file that was distributed with this source code.
#}

{% set supported_extensions = {
    'amp-3q-player': '0.1',
    'amp-a4a': '0.1',
    'amp-access': '0.1',
    'amp-access-laterpay': '0.1',
    'amp-accordion': '0.1',
    'amp-ad': '0.1',
    'amp-ad-exit': '0.1',
    'amp-analytics': '0.1',
    'amp-anim': '0.1',
    'amp-animation': '0.1',
    'amp-apester-media': '0.1',
    'amp-app-banner': '0.1',
    'amp-audio': '0.1',
    'amp-auto-ads': '0.1',
    'amp-bind': '0.1',
    'amp-brid-player': '0.1',
    'amp-brightcove': '0.1',
    'amp-call-tracking': '0.1',
    'amp-carousel': '0.1',
    'amp-image-slider': '0.1',
    'amp-dailymotion': '0.1',
    'amp-dynamic-css': '0.1',
    'amp-experiment': '0.1',
    'amp-facebook': '0.1',
    'amp-facebook-comments': '0.1',
    'amp-facebook-like': '0.1',
    'amp-facebook-page': '0.1',
    'amp-fit-text': '0.1',
    'amp-font': '0.1',
    'amp-form': '0.1',
    'amp-fx-flying-carpet': '0.1',
    'amp-fx-parallax': '0.1',
    'amp-gfycat': '0.1',
    'amp-gist': '0.1',
    'amp-google-vrview-image': '0.1',
    'amp-hulu': '0.1',
    'amp-iframe': '0.1',
    'amp-ima-video': '0.1',
    'amp-image-lightbox': '0.1',
    'amp-imgur': '0.1',
    'amp-instagram': '0.1',
    'amp-install-serviceworker': '0.1',
    'amp-izlesene': '0.1',
    'amp-jwplayer': '0.1',
    'amp-kaltura-player': '0.1',
    'amp-lightbox': '0.1',
    'amp-list': '0.1',
    'amp-live-list': '0.1',
    'amp-mustache': '0.2',
    'amp-nexxtv-player': '0.1',
    'amp-o2-player': '0.1',
    'amp-ooyala-player': '0.1',
    'amp-pinterest': '0.1',
    'amp-playbuzz': '0.1',
    'amp-position-observer': '0.1',
    'amp-reach-player': '0.1',
    'amp-reddit': '0.1',
    'amp-selector': '0.1',
    'amp-sidebar': '0.1',
    'amp-social-share': '0.1',
    'amp-soundcloud': '0.1',
    'amp-springboard-player': '0.1',
    'amp-sticky-ad': '1.0',
    'amp-timeago': '0.1',
    'amp-twitter': '0.1',
    'amp-user-notification': '0.1',
    'amp-video': '0.1',
    'amp-vimeo': '0.1',
    'amp-vine': '0.1',
    'amp-viz-vega': '0.1',
    'amp-vk': '0.1',
    'amp-web-push': '0.1',
    'amp-youtube': '0.1'
} %}

{% for extension in extensions_enabled|default %}
    {% if extension.name in supported_extensions|keys %}
        {% set type = extension.name == 'amp-mustache' ? 'custom-template' : 'custom-element' %}
        {% set version = extension.version is not defined ?
            supported_extensions[extension.name] : extension.version %}

        <script async
                {{ type }}="{{ extension.name }}"
                src="{{ 'https://cdn.ampproject.org/v0/' ~ extension.name ~ '-' ~ version ~ '.js' }}"></script>
    {% endif %}
{% endfor %}
